import{S as e,i as a,s as t,a0 as n,a5 as s,a1 as r,a2 as o,l as p,k as l,e as i,t as h,j as m,L as d,a3 as u,d as c,n as f,c as y,a as v,g as E,m as g,X as S,b as T,a4 as R,F as w,f as $,o as k,G as j,x as N,u as x,v as A}from"../../chunks/vendor-836b274b.js";function b(e){let a,t,b,I,P,C,D,F,H,U,L,O,X,M,Q,G,q,W,Y,z,B,J,K,V,Z,_,ee,ae,te,ne,se,re,oe,pe,le,ie,he,me;return G=new n({props:{language:s,code:"npm install --save @nymphjs/tilmeld-setup"}}),he=new n({props:{language:r,code:"import express from 'express';\nimport SQLite3Driver from '@nymphjs/driver-sqlite3';\nimport { Nymph } from '@nymphjs/nymph';\nimport { Tilmeld } from '@nymphjs/tilmeld';\nimport createServer from '@nymphjs/server';\nimport setup from '@nymphjs/tilmeld-setup';\n\n// Import all the entities you will be using on the server.\nimport './entities/MyEntity';\n\n// Configure Nymph.\nconst nymph = new Nymph(\n  {},\n  new SQLite3Driver({\n    filename: ':memory:',\n  }),\n  new Tilmeld({\n    appName: 'My App',\n    appUrl: 'http://localhost',\n    cookieDomain: 'localhost',\n    cookiePath: '/',\n    setupPath: '/user',\n    verifyRedirect: 'http://localhost',\n    verifyChangeRedirect: 'http://localhost',\n    cancelChangeRedirect: 'http://localhost',\n    jwtSecret: 'shhhhh',\n  })\n);\n\n// Create your Express app.\nconst app = express();\n\n// Use the REST server.\napp.use('/rest', createServer(nymph));\n// Use the Tilmeld Setup App, passing in the Nymph Client Config.\napp.use(\n  '/user',\n  setup(\n    {\n      restUrl: 'http://localhost/rest',\n    },\n    nymph\n  )\n);\n\n// Do anything else you need to do...\n\n// Start your server.\napp.listen(80);"}}),{c(){a=new o,t=p(),b=l(),I=i("section"),P=i("header"),C=i("h1"),D=h("Tilmeld Setup"),F=l(),H=i("p"),U=h("The Tilmeld Setup App allows administrators to create, modify, and delete\n    users and groups and configure how Tilmeld works. It also acts as the\n    endpoint for email address verification."),L=l(),O=i("header"),X=i("h2"),M=h("Installation"),Q=l(),m(G.$$.fragment),q=l(),W=i("header"),Y=i("h2"),z=h("Usage"),B=l(),J=i("p"),K=h("You need to setup a Nymph REST endpoint, then you can use the Tilmeld Setup\n    App as another endpoint in your Express server."),V=l(),Z=i("p"),_=h("IMPORTANT: Within the setup app, Tilmeld "),ee=i("strong"),ae=h("does not"),te=h(" check for\n    XSRF tokens, so "),ne=i("strong"),se=h("do not"),re=h(" put your REST endpoint under the setup\n    app's path, or you will be vulnerable to XSRF attacks!"),oe=l(),pe=i("p"),le=h("For this example, I'll use the SQLite3 driver with an in-memory database."),ie=l(),m(he.$$.fragment),this.h()},l(e){const n=d('[data-svelte="svelte-k7q6er"]',document.head);a=u(n),t=p(),n.forEach(c),b=f(e),I=y(e,"SECTION",{});var s=v(I);P=y(s,"HEADER",{class:!0});var r=v(P);C=y(r,"H1",{style:!0});var o=v(C);D=E(o,"Tilmeld Setup"),o.forEach(c),r.forEach(c),F=f(s),H=y(s,"P",{});var l=v(H);U=E(l,"The Tilmeld Setup App allows administrators to create, modify, and delete\n    users and groups and configure how Tilmeld works. It also acts as the\n    endpoint for email address verification."),l.forEach(c),L=f(s),O=y(s,"HEADER",{class:!0});var i=v(O);X=y(i,"H2",{});var h=v(X);M=E(h,"Installation"),h.forEach(c),i.forEach(c),Q=f(s),g(G.$$.fragment,s),q=f(s),W=y(s,"HEADER",{class:!0});var m=v(W);Y=y(m,"H2",{});var S=v(Y);z=E(S,"Usage"),S.forEach(c),m.forEach(c),B=f(s),J=y(s,"P",{});var T=v(J);K=E(T,"You need to setup a Nymph REST endpoint, then you can use the Tilmeld Setup\n    App as another endpoint in your Express server."),T.forEach(c),V=f(s),Z=y(s,"P",{});var R=v(Z);_=E(R,"IMPORTANT: Within the setup app, Tilmeld "),ee=y(R,"STRONG",{});var w=v(ee);ae=E(w,"does not"),w.forEach(c),te=E(R," check for\n    XSRF tokens, so "),ne=y(R,"STRONG",{});var $=v(ne);se=E($,"do not"),$.forEach(c),re=E(R," put your REST endpoint under the setup\n    app's path, or you will be vulnerable to XSRF attacks!"),R.forEach(c),oe=f(s),pe=y(s,"P",{});var k=v(pe);le=E(k,"For this example, I'll use the SQLite3 driver with an in-memory database."),k.forEach(c),ie=f(s),g(he.$$.fragment,s),s.forEach(c),this.h()},h(){document.title="Tilmeld Setup - Packages - Nymph.js",a.a=t,S(C,"font-size","3em"),T(P,"class","major"),T(O,"class","major"),T(W,"class","major")},m(e,n){a.m(R,document.head),w(document.head,t),$(e,b,n),$(e,I,n),w(I,P),w(P,C),w(C,D),w(I,F),w(I,H),w(H,U),w(I,L),w(I,O),w(O,X),w(X,M),w(I,Q),k(G,I,null),w(I,q),w(I,W),w(W,Y),w(Y,z),w(I,B),w(I,J),w(J,K),w(I,V),w(I,Z),w(Z,_),w(Z,ee),w(ee,ae),w(Z,te),w(Z,ne),w(ne,se),w(Z,re),w(I,oe),w(I,pe),w(pe,le),w(I,ie),k(he,I,null),me=!0},p:j,i(e){me||(N(G.$$.fragment,e),N(he.$$.fragment,e),me=!0)},o(e){x(G.$$.fragment,e),x(he.$$.fragment,e),me=!1},d(e){c(t),e&&a.d(),e&&c(b),e&&c(I),A(G),A(he)}}}class I extends e{constructor(e){super(),a(this,e,null,b,t,{})}}export{I as default};
