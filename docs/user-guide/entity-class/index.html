<!DOCTYPE html>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />
    <title>Entity Class - User Guide - Nymph.js</title><meta name="description" content="Object relational mapper for Node.js and the browser" data-svelte="svelte-6i6yy0"><meta property="og:title" content="Nymph" data-svelte="svelte-6i6yy0"><meta property="og:type" content="website" data-svelte="svelte-6i6yy0"><meta property="og:url" content="http://nymph.io/" data-svelte="svelte-6i6yy0"><meta property="og:image" content="https://raw.githubusercontent.com/sciactive/nymph/master/assets/nymph-logo-500.png" data-svelte="svelte-6i6yy0"><meta property="og:site_name" content="Nymph" data-svelte="svelte-6i6yy0"><meta property="fb:admins" content="508999194" data-svelte="svelte-6i6yy0"><meta property="og:description" content="Object relational mapper for Node.js and the browser" data-svelte="svelte-6i6yy0"><link rel="icon" href="/images/cropped-logo-32x32.png" sizes="32x32" data-svelte="svelte-6i6yy0"><link rel="icon" href="/images/cropped-logo-192x192.png" sizes="192x192" data-svelte="svelte-6i6yy0"><link rel="apple-touch-icon" href="/images/cropped-logo-180x180.png" data-svelte="svelte-6i6yy0"><meta name="msapplication-TileImage" content="/images/cropped-logo-270x270.png" data-svelte="svelte-6i6yy0"><link rel="stylesheet" href="/css/main.css" data-svelte="svelte-6i6yy0"><!-- HTML_TAG_START --><style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: GitHub
  Description: Light theme as seen on github.com
  Author: github.com
  Maintainer: @Hirse
  Updated: 2021-05-15

  Outdated base version: https://github.com/primer/github-syntax-light
  Current colors taken from GitHub's CSS
*/.hljs{color:#24292e;background:#fff}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#d73a49}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#6f42c1}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#005cc5}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#032f62}.hljs-built_in,.hljs-symbol{color:#e36209}.hljs-code,.hljs-comment,.hljs-formula{color:#6a737d}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#22863a}.hljs-subst{color:#24292e}.hljs-section{color:#005cc5;font-weight:700}.hljs-bullet{color:#735c0f}.hljs-emphasis{color:#24292e;font-style:italic}.hljs-strong{color:#24292e;font-weight:700}.hljs-addition{color:#22863a;background-color:#f0fff4}.hljs-deletion{color:#b31d28;background-color:#ffeef0}</style><!-- HTML_TAG_END -->
	<link rel="stylesheet" href="/_app/assets/vendor-47c9022a.css">
	<link rel="modulepreload" href="/_app/start-72409d61.js">
	<link rel="modulepreload" href="/_app/chunks/vendor-57c99eaa.js">
	<link rel="modulepreload" href="/_app/chunks/paths-396f020f.js">
	<link rel="modulepreload" href="/_app/pages/__layout.svelte-3eaf2589.js">
	<link rel="modulepreload" href="/_app/chunks/Icon-68f09f50.js">
	<link rel="modulepreload" href="/_app/pages/user-guide/entity-class.svelte-613447fe.js">
			<script type="module">
				import { start } from "/_app/start-72409d61.js";
				start({
					target: document.querySelector("body"),
					paths: {"base":"","assets":""},
					session: {},
					route: true,
					spa: false,
					trailing_slash: "never",
					hydrate: {
						status: 200,
						error: null,
						nodes: [
							import("/_app/pages/__layout.svelte-3eaf2589.js"),
						import("/_app/pages/user-guide/entity-class.svelte-613447fe.js")
						],
						url: new URL("http://prerender/user-guide/entity-class"),
						params: {}
					}
				});
			</script>
  </head>
  <body class="is-preload">
    






<div id="main"><div class="inner">
<header id="header"><div class="logo"><a href="/" class="logo"><strong>Nymph.js</strong></a></div>
  <ul class="icons"><li><a href="https://twitter.com/SciActive" target="_blank" class="icon brands" title="Twitter"><svg style="width: 24px; height: 24px; vertical-align: middle;" viewBox="0 0 24 24"><path fill="currentColor" d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z"></path></svg></a></li>
    <li><a href="https://github.com/sciactive/nymphjs" target="_blank" class="icon brands" title="GitHub"><svg style="width: 24px; height: 24px; vertical-align: middle;" viewBox="0 0 24 24"><path fill="currentColor" d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"></path></svg></a></li></ul>
</header>

    

<section><header class="major"><h1 style="font-size: 3em;">Entity Class</h1></header>

  <p>Entities in Nymph work pretty much like regular objects, and this is due to
    the Entity class. The Entity class constructor returns a proxy to allow
    accessing data on it just like a regular object while keeping track of
    changes and only unserializing data from the DB when it&#39;s first accessed.
    Instance methods and properties begin with &quot;$&quot; to differentiate them from
    data.
  </p>

  <p>In the client, assigning a property internally marks that property as
    &quot;dirty&quot;, and calling <code>$patch</code> will push just the changed
    properties up to the server, whereas <code>$save</code> would push all properties.
  </p>

  <p>Entities can be organized using tags. To add, remove, and check tags, the
    methods <code>$addTag</code>, <code>$removeTag</code>, and
    <code>$hasTag</code> are used, respectively. Each takes any number of tags as
    arguments.
  </p>

  
  <pre data-language="typescript" class=" svelte-nstrv8"><code class="hljs"><!-- HTML_TAG_START --><span class="hljs-keyword">const</span> entity = <span class="hljs-keyword">await</span> <span class="hljs-title class_">MyEntityClass</span>.<span class="hljs-title function_">factory</span>();

entity.$addTag(<span class="hljs-string">&#x27;foo&#x27;</span>, <span class="hljs-string">&#x27;bar&#x27;</span>);
entity.$hasTag(<span class="hljs-string">&#x27;foo&#x27;</span>); <span class="hljs-comment">// True</span>

entity.$removeTag(<span class="hljs-string">&#x27;foo&#x27;</span>, <span class="hljs-string">&#x27;bar&#x27;</span>);
entity.$hasTag(<span class="hljs-string">&#x27;foo&#x27;</span>); <span class="hljs-comment">// False</span><!-- HTML_TAG_END --></code></pre>


  <p>In Node.js, entities that have been saved inside another entity&#39;s property
    are loaded as &quot;sleeping references&quot;. This means their data is not actually
    pulled from the database. It will &quot;wake up&quot; when you first try to access
    something other than its GUID.
  </p>

  <p>In the client, there are still sleeping references, but they can&#39;t be loaded
    synchronously. Instead, they are loaded with the <code>$ready</code> method,
    or by using the <code>$readyAll</code> method on the entity that contains them.
  </p>

  <p>To clear the cache of referenced entities, so that the next time one is
    accessed it will be pulled from the database, use the <code>$clearCache</code>
    method in Node.js and the <code>$refresh</code> method in the client.
  </p>

  
  <pre data-language="typescript" class=" svelte-nstrv8"><code class="hljs"><!-- HTML_TAG_START --><span class="hljs-comment">// Create some entities.</span>
<span class="hljs-keyword">let</span> entity = <span class="hljs-keyword">await</span> <span class="hljs-title class_">MyEntityClass</span>.<span class="hljs-title function_">factory</span>();
entity.<span class="hljs-property">foo</span> = <span class="hljs-keyword">await</span> <span class="hljs-title class_">MyEntityClass</span>.<span class="hljs-title function_">factory</span>();
entity.<span class="hljs-property">foo</span>.<span class="hljs-property">bar</span> = <span class="hljs-string">&#x27;Old value.&#x27;</span>;
<span class="hljs-keyword">await</span> entity.<span class="hljs-property">foo</span>.$save();
<span class="hljs-keyword">await</span> entity.$save();

<span class="hljs-comment">// Reset the entity to a copy just pulled from the DB.</span>
entity = <span class="hljs-keyword">await</span> nymph.<span class="hljs-title function_">getEntity</span>(
  { <span class="hljs-attr">class</span>: <span class="hljs-title class_">MyEntityClass</span> },
  { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;&amp;&#x27;</span>, <span class="hljs-attr">guid</span>: entity.<span class="hljs-property">guid</span> }
);

<span class="hljs-comment">// Get a copy of the referenced entity.</span>
<span class="hljs-keyword">let</span> instOfFoo = <span class="hljs-keyword">await</span> nymph.<span class="hljs-title function_">getEntity</span>(
  { <span class="hljs-attr">class</span>: <span class="hljs-title class_">MyEntityClass</span> },
  { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;&amp;&#x27;</span>, <span class="hljs-attr">guid</span>: entity.<span class="hljs-property">foo</span>.<span class="hljs-property">guid</span> }
);
<span class="hljs-comment">// And change a value on it.</span>
instOfFoo.<span class="hljs-property">bar</span> = <span class="hljs-string">&#x27;New value.&#x27;</span>;
<span class="hljs-keyword">await</span> instOfFoo.$save();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(entity.<span class="hljs-property">foo</span>.<span class="hljs-property">bar</span>); <span class="hljs-comment">// Outputs &#x27;Old value.&#x27;</span>
<span class="hljs-comment">// If on Node.js</span>
entity.$clearCache();
<span class="hljs-comment">// Else if on the client</span>
<span class="hljs-keyword">await</span> entity.$refresh();
<span class="hljs-keyword">await</span> entity.<span class="hljs-property">foo</span>.$ready();
<span class="hljs-comment">// End if</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(entity.<span class="hljs-property">foo</span>.<span class="hljs-property">bar</span>); <span class="hljs-comment">// Outputs &#x27;New value.&#x27;</span><!-- HTML_TAG_END --></code></pre>


  <p>Much like clearing the entity cache, you may need to refresh the entity&#39;s
    own data in Node.js. Use the <code>$refresh</code> method, just like in the client,
    for this.
  </p>

  
  <pre data-language="typescript" class=" svelte-nstrv8"><code class="hljs"><!-- HTML_TAG_START --><span class="hljs-comment">// Create an entity.</span>
<span class="hljs-keyword">const</span> entity = <span class="hljs-keyword">await</span> <span class="hljs-title class_">MyEntityClass</span>.<span class="hljs-title function_">factory</span>();
entity.<span class="hljs-property">foo</span> = <span class="hljs-string">&#x27;Old value.&#x27;</span>;
<span class="hljs-keyword">await</span> entity.$save();

<span class="hljs-comment">// Get a copy of the entity.</span>
<span class="hljs-keyword">const</span> instOfEnt = <span class="hljs-keyword">await</span> nymph.<span class="hljs-title function_">getEntity</span>(
  { <span class="hljs-attr">class</span>: <span class="hljs-title class_">MyEntityClass</span> },
  { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;&amp;&#x27;</span>, <span class="hljs-attr">guid</span>: entity.<span class="hljs-property">guid</span> }
);
<span class="hljs-comment">// And change a value on it.</span>
instOfEnt.<span class="hljs-property">foo</span> = <span class="hljs-string">&#x27;New value.&#x27;</span>;
<span class="hljs-keyword">await</span> instOfEnt.$save();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(entity.<span class="hljs-property">foo</span>); <span class="hljs-comment">// Outputs &#x27;Old value.&#x27;</span>
<span class="hljs-keyword">await</span> entity.$refresh();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(entity.<span class="hljs-property">foo</span>); <span class="hljs-comment">// Outputs &#x27;New value.&#x27;</span><!-- HTML_TAG_END --></code></pre>


  <p>To save an entity, use the <code>$save</code> method. Likewise, to delete
    the entity, use the <code>$delete</code> method. You can also call the
    <code>saveEntity</code>,
    <code>deleteEntity</code>, and <code>deleteEntityByID</code> methods of
    <code>Nymph</code>. The <code>Entity</code> class uses these methods.
  </p>

  
  <pre data-language="typescript" class=" svelte-nstrv8"><code class="hljs"><!-- HTML_TAG_START --><span class="hljs-keyword">const</span> entity = <span class="hljs-keyword">await</span> <span class="hljs-title class_">MyEntityClass</span>.<span class="hljs-title function_">factory</span>();

<span class="hljs-comment">// Save the entity.</span>
<span class="hljs-keyword">await</span> entity.$save();
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">await</span> nymph.<span class="hljs-title function_">saveEntity</span>(entity);
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">await</span> nymph.<span class="hljs-title function_">saveEntities</span>([entity]);

<span class="hljs-comment">// (Client only.) Save only the data that has changed.</span>
<span class="hljs-keyword">await</span> entity.$patch();
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">await</span> nymph.<span class="hljs-title function_">patchEntity</span>(entity);
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">await</span> nymph.<span class="hljs-title function_">patchEntities</span>([entity]);

<span class="hljs-comment">// Delete the entity.</span>
<span class="hljs-keyword">await</span> entity.$delete();
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">await</span> nymph.<span class="hljs-title function_">deleteEntity</span>(entity);
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">await</span> nymph.<span class="hljs-title function_">deleteEntities</span>([entity]);<!-- HTML_TAG_END --></code></pre>


  <p>Entities can&#39;t be checked using the <code>==</code> operator. Instead, you can
    use the following entity methods.
  </p>
  <ul><li><code>$is</code> - Perform a less strict comparison of two entities
      (basically a GUID check). To return true, the entities must meet the
      following criteria.
      <ul><li>They must be entities.</li>
        <li>They must have equal GUIDs, or both can have no GUID.</li>
        <li>If they have no GUIDs, their data must be equal.</li></ul></li>
    <li><code>$equals</code> - Perform a more strict comparison of two entities
      (basically a GUID + class + data check). To return true, the entities must
      meet the following criteria.
      <ul><li>They must be entities.</li>
        <li>They must have equal GUIDs, or both can have no GUID.</li>
        <li>They must be instances of the same class.</li>
        <li>Their data must be equal.</li></ul></li>
    <li><code>$inArray</code> - Check whether the entity is in an array. Takes two
      arguments, the array and a boolean <code>strict</code>. If
      <code>strict</code>
      is false, the function uses <code>$is</code> to compare, and if it&#39;s true,
      the function uses <code>$equals</code>.
    </li>
    <li><code>$arraySearch</code> - Search an array for the entity and return the
      corresponding key. Takes two arguments, the array and a boolean
      <code>strict</code>. If <code>strict</code> is false, the function uses
      <code>$is</code>
      to compare, and if it&#39;s true, the function uses <code>$equals</code>. This
      method may return 0, which evaluates to false, so you should use
      <code>$inArray</code> if you are only checking whether the entity is in the
      array.
    </li></ul>

  
  <pre data-language="typescript" class=" svelte-nstrv8"><code class="hljs"><!-- HTML_TAG_START --><span class="hljs-comment">// Assuming the entity with GUID &#x27;a4c1591d6ea91c8450d2d360&#x27; exists.</span>
<span class="hljs-keyword">let</span> entity = <span class="hljs-keyword">await</span> <span class="hljs-title class_">MyEntityClass</span>.<span class="hljs-title function_">factory</span>(<span class="hljs-string">&#x27;a4c1591d6ea91c8450d2d360&#x27;</span>);
<span class="hljs-keyword">let</span> entity2 = <span class="hljs-keyword">await</span> <span class="hljs-title class_">MyEntityClass</span>.<span class="hljs-title function_">factory</span>(<span class="hljs-string">&#x27;a4c1591d6ea91c8450d2d360&#x27;</span>);

entity2.<span class="hljs-property">someProp</span> = <span class="hljs-string">&#x27;some new value&#x27;</span>;
entity.$is(entity2); <span class="hljs-comment">// True</span>
entity.$equals(entity2); <span class="hljs-comment">// False</span>

<span class="hljs-keyword">const</span> arr = [<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, entity];
entity.$arraySearch(arr); <span class="hljs-comment">// 2</span>
entity.$inArray(arr); <span class="hljs-comment">// True</span>
entity.$arraySearch(arr, <span class="hljs-literal">true</span>); <span class="hljs-comment">// -1</span>
entity.$inArray(arr, <span class="hljs-literal">true</span>); <span class="hljs-comment">// false</span><!-- HTML_TAG_END --></code></pre>


  <p>Client side Nymph entities can use the <code>$serverCall</code> method to
    call methods on a server side instance of the entity.
    <code>$serverCall</code> expects three parameters.
  </p>

  <ul><li><code>method</code> - the name of the method to call on the server side object.
    </li>
    <li><code>params</code> - an array of the parameters to pass to the method.
    </li>
    <li><code>stateless</code> - if set to true, the method won&#39;t update the entity
      with the returned server side representation.
    </li></ul>

  <p>Normally, when you use this method, just before the promise is fulfilled,
    the entity&#39;s data will be replaced with that of the entity on the server
    side after the method was run. This will cause any awoken entities in the
    data of your entity to be replaced with sleeping entities, so you will have
    to run <code>$readyAll</code> again. If you know that the server side method
    will not change any of the data on the entity, you can set
    <code>stateless</code> to true.
  </p>

  <p>You can also call static methods on the server with <code>serverCallStatic</code>.
  </p>

  <p>In order to be called from the client side, the method must be listed in the
    <code>$clientEnabledMethods</code> or
    <code>clientEnabledStaticMethods</code> property in the Node.js class. This
    guards against a user submitting tailored requests to perform potentially
    dangerous tasks on the server side. If the method is not listed, the request
    will fail with a <code>403 Forbidden</code> status.
  </p>

  
  <pre data-language="typescript" class=" svelte-nstrv8"><code class="hljs"><!-- HTML_TAG_START --><span class="hljs-comment">// You can use $serverCall and serverCallStatic directly.</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">success</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-keyword">await</span> todo.$serverCall(<span class="hljs-string">&#x27;$archive&#x27;</span>, []);
  <span class="hljs-keyword">if</span> (!success) {
    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;Couldn&#x27;t archive &quot;</span> + todo.<span class="hljs-property">name</span>);
  }
} <span class="hljs-keyword">catch</span> (e) {
  <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;Error: &#x27;</span> + e.<span class="hljs-property">textStatus</span> + <span class="hljs-string">&quot;
Couldn&#x27;t archive &quot;</span> + todo.<span class="hljs-property">name</span>);
}

<span class="hljs-comment">// Or you can define methods like this in your client class.</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Todo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Entity</span>&lt;<span class="hljs-title class_">TodoData</span>&gt; {
  <span class="hljs-comment">// ...</span>

  <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">archiveAllDone</span>(<span class="hljs-attr">onlyOlderThanDay</span>: <span class="hljs-built_in">boolean</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">serverCallStatic</span>(<span class="hljs-string">&#x27;archiveAllDone&#x27;</span>, [onlyOlderThanDay]);
  }

  <span class="hljs-keyword">async</span> $archive(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.$serverCall(<span class="hljs-string">&#x27;archive&#x27;</span>, []);
  }
}

<span class="hljs-comment">// You&#x27;d use them like this.</span>
<span class="hljs-keyword">const</span> success = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Todo</span>.<span class="hljs-title function_">archiveAllDone</span>(<span class="hljs-literal">true</span>);

<span class="hljs-comment">// And</span>
<span class="hljs-keyword">const</span> todo = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Todo</span>.<span class="hljs-title function_">factory</span>();
<span class="hljs-keyword">const</span> success = <span class="hljs-keyword">await</span> todo.$archive();<!-- HTML_TAG_END --></code></pre>
</section>

<section><div class="row"><div class="col-6 col-12-small"><a href="/user-guide/subscribing-to-queries" class="button" style="margin: .5em;">Previous: Subscribing to Queries</a></div>
    <div class="col-6 col-12-small" style="text-align: end;"><a href="/user-guide/defining-entities" class="button" style="margin: .5em;">Next: Defining Entities</a></div></div>
</section>

    
    <footer id="footer"><p class="copyright">© SciActive Inc. All rights reserved. Design by:
        <a href="https://html5up.net">HTML5 UP</a>.
      </p></footer></div></div>


<div id="sidebar"><div class="inner">
    <section id="top-panel" class="alt"><div class="title"><img class="logo" src="/images/web-logo.png" alt="SciActive">
        <span class="name">SciActive</span></div></section>

    
    <nav id="menu"><ul><li><a href="/">Homepage</a></li>
        <li><span class="opener">User Guide</span>
          <ul><li><a href="/user-guide/introduction">Introduction</a></li>
            <li><a href="/user-guide/creating-entities">Creating Entities</a></li>
            <li><a href="/user-guide/entity-querying">Entity Querying</a></li>
            <li><a href="/user-guide/subscribing-to-queries">Subscribing to Queries</a></li>
            <li><a href="/user-guide/entity-class">Entity Class</a></li>
            <li><a href="/user-guide/defining-entities">Defining Entities</a></li>
            <li><a href="/user-guide/uids">UIDs</a></li>
            <li><a href="/user-guide/transactions">Transactions</a></li>
            <li><a href="/user-guide/export-and-import">Export and Import</a></li></ul></li>
        <li><span class="opener">Packages</span>
          <ul><li><a href="/packages/nymph">Nymph Core</a></li>
            <li><a href="/packages/driver-mysql">MySQL Driver</a></li>
            <li><a href="/packages/driver-postgresql">PostgreSQL Driver</a></li>
            <li><a href="/packages/driver-sqlite3">SQLite3 Driver</a></li>
            <li><a href="/packages/server">REST Server</a></li>
            <li><a href="/packages/pubsub">PubSub Server</a></li>
            <li><a href="/packages/client">Client</a></li>
            <li><a href="/packages/client-node">Node Client</a></li>
            <li><a href="/packages/tilmeld">Tilmeld</a></li>
            <li><a href="/packages/tilmeld-client">Tilmeld Client</a></li>
            <li><a href="/packages/tilmeld-components">Tilmeld Components</a></li>
            <li><a href="/packages/tilmeld-setup">Tilmeld Setup</a></li>
            <li><a href="/packages/sorter">Entity Sorter</a></li>
            <li><a href="/packages/query-parser">Query Parser</a></li></ul></li></ul></nav>

    
    <section><header class="major"><h2>Get in touch</h2></header>
      <p>Nymph is a product of SciActive Inc. You can contact SciActive by email
        or post, or follow on Twitter.
      </p>
      <ul class="contact"><li class="icon"><svg style="width: 24px; height: 24px; vertical-align: middle;" viewBox="0 0 24 24"><path fill="currentColor" d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z"></path></svg>
          <a href="https://twitter.com/SciActive" target="_blank">@SciActive on Twitter</a></li>
        <li class="icon"><svg style="width: 24px; height: 24px; vertical-align: middle;" viewBox="0 0 24 24"><path fill="currentColor" d="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"></path></svg>
          <a href="mailto:someone@example.com">(loading...)</a></li>
        <li class="icon"><svg style="width: 24px; height: 24px; vertical-align: middle;" viewBox="0 0 24 24"><path fill="currentColor" d="M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z"></path></svg>
          SciActive Inc<br>
          310 S Twin Oaks Valley Rd #107<br>
          PMB 422<br>
          San Marcos, CA 92078
        </li></ul></section></div>

  
</div>


  </body>
</html>
